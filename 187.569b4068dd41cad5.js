"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[187],{7187:(Ge,F,l)=>{l.r(F),l.d(F,{JugadoresModule:()=>He});var S=l(9510),_=l(4521),e=l(5e3);let U=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-jugadores"]],decls:1,vars:0,template:function(t,r){1&t&&e._UZ(0,"router-outlet")},directives:[_.lC],styles:[""]}),a})();var n=l(3075),u=l(4999),v=l(7579),c=l(2722),Q=l(8372),j=l(8966),q=l(5226),d=l.n(q),f=l(520),J=l(2340),Z=l(1135),C=l(8505);let h=(()=>{class a{constructor(t){this._httpClient=t,this.url=`${J.N.apiUrlAdmin}`,this._jugadores=new Z.X(null),this._jugadoresList=new Z.X(null),this._parejas=new Z.X(null),this._ramas=new Z.X(null),this._categorias=new Z.X(null)}get jugadores$(){return this._jugadores.asObservable()}get jugadoresList$(){return this._jugadoresList.asObservable()}get parejas$(){return this._parejas.asObservable()}get categorias$(){return this._categorias.asObservable()}get ramas$(){return this._ramas.asObservable()}set jugadores(t){this._jugadores.next(t)}set parejas(t){this._parejas.next(t)}set jugadoresList(t){this._jugadoresList.next(t)}obtenerJugadores(){return this._httpClient.get(`${this.url}jugadores`).pipe((0,C.b)(t=>{this._jugadores.next(t)}))}obtenerJugadoresRefresh(){return this._httpClient.get(`${this.url}jugadores`)}obtenerJugadoresFiltro(t){let r=new f.LE;return r=r.set("page",t.page),r=r.set("limit",t.limit),r=r.set("rama",t.rama),r=r.set("categoria",t.categoria),this._httpClient.get(`${this.url}jugadores/filtersPaginated`,{params:r})}obtenerJugadoresFiltroPaginadoI(t){let r=new f.LE;return r=r.set("page",t.page),r=r.set("limit",t.limit),this._httpClient.post(`${this.url}jugadores/filtersPaginated`,{rama:t.rama,categoria:t.categoria},{params:r}).pipe((0,C.b)(s=>{this._jugadoresList.next(s)}))}obtenerJugadoresFiltroPaginado(t){let r=new f.LE;return r=r.set("page",t.page),r=r.set("limit",t.limit),this._httpClient.post(`${this.url}jugadores/filtersPaginated`,{rama:t.rama,categoria:t.categoria,nombre:t.nombre},{params:r})}obtenerJugadorUserId(t){let r=new f.LE;return r=r.set("userId",t),this._httpClient.get(`${this.url}jugadores/byUserId`,{params:r})}obtenerJugadorPorId(t){let r=new f.LE;return r=r.set("id",t),this._httpClient.get(`${this.url}jugadores/byId`,{params:r})}editarJugadorPorId(t,r){return this._httpClient.patch(`${this.url}usuarios/editar/${t}`,r)}crearjugador(t){return this._httpClient.post(`${this.url}usuarios`,t)}obtenerRamas(){return this._httpClient.get(`${this.url}Torneos/ObtenerRamas`).pipe((0,C.b)(t=>{this._ramas.next(t)}))}obtenerCategorias(){return this._httpClient.get(`${this.url}Torneos/ObtenerCategorias`).pipe((0,C.b)(t=>{this._categorias.next(t)}))}obtenerParejas(){return this._httpClient.get(`${this.url}parejas`).pipe((0,C.b)(t=>{this._parejas.next(t)}))}obtenerParejasFiltroPaginadoI(t){let r=new f.LE;return r=r.set("page",t.page),r=r.set("limit",t.limit),this._httpClient.post(`${this.url}parejas/filtersPaginated`,{rama:t.rama,categoria:t.categoria},{params:r}).pipe((0,C.b)(s=>{this._parejas.next(s)}))}obtenerParejasFiltroPaginado(t){let r=new f.LE;return r=r.set("page",t.page),r=r.set("limit",t.limit),this._httpClient.post(`${this.url}parejas/filtersPaginated`,{rama:t.rama,categoria:t.categoria},{params:r})}obtenerParejasRefresh(){return this._httpClient.get(`${this.url}parejas`)}crearPareja(t){return this._httpClient.post(`${this.url}parejas`,t)}editarPareja(t,r){return this._httpClient.patch(`${this.url}parejas/editar/${t}`,r)}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(f.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var P=l(7423),T=l(5245),b=l(7322),w=l(9814),g=l(9808),R=l(7238);function Y(a,o){if(1&a&&(e.TgZ(0,"mat-radio-button",21),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.nombre),e.xp6(1),e.hij("",e.lcZ(2,2,t.descripcion),"\xa0\xa0")}}function E(a,o){if(1&a&&(e.TgZ(0,"mat-radio-button",21),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.nombre),e.xp6(1),e.hij("",e.lcZ(2,2,t.descripcion),"\xa0\xa0")}}function M(a,o){if(1&a&&(e.TgZ(0,"mat-radio-button",21),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.nombre),e.xp6(1),e.hij("",e.lcZ(2,2,t.descripcion),"\xa0\xa0")}}let D=(()=>{class a{constructor(t,r,i,s,m){this.matDialogRef=t,this._formBuilder=r,this._changeDetectorRef=i,this.data=s,this._jugadoresService=m,this.jugador={},this.ramas=[],this.categorias=[],this.title="",this._unsubscribeAll=new v.x,this.jugadorForm=this._formBuilder.group({nombre:new n.NI({value:"",disabled:!1},n.kI.required),correo:new n.NI({value:"",disabled:!1}),ranking:new n.NI({value:"",disabled:!1},[n.kI.required,n.kI.pattern("[0-9]*")]),rama:new n.NI({value:"",disabled:!1},n.kI.required),categoria:new n.NI({value:"",disabled:!1},n.kI.required),categoria_dobles:new n.NI({value:"",disabled:!1},n.kI.required)}),this.Toast=d().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:p=>{p.addEventListener("mouseenter",d().stopTimer),p.addEventListener("mouseleave",d().resumeTimer)}}),s.editar&&(this.jugador=s.jugador,this.title=s.title,this.jugadorForm.patchValue(s.jugador),this.jugadorForm.get("correo").setValue(s.jugador.userid.correo))}ngOnInit(){this._jugadoresService.ramas$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.ramas=t,this._changeDetectorRef.markForCheck()}),this._jugadoresService.categorias$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.categorias=t,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}confirmarJugador(){if(this.jugadorForm.invalid)return this.Toast.fire({icon:"error",title:"Debe completar todos los campos antes de continuar."}),void this.jugadorForm.markAllAsTouched();this.jugadorForm.disable();let t=this.jugadorForm.getRawValue();this.data.editar?(t.id=this.jugador.userid.id,""===t.correo&&delete t.correo,this.matDialogRef.close(t)):(""===t.correo&&delete t.correo,this.matDialogRef.close(t))}onNoClick(){this.matDialogRef.close()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(j.so),e.Y36(n.qu),e.Y36(e.sBO),e.Y36(j.WI),e.Y36(h))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-editar-jugador-single"]],decls:41,vars:13,consts:[[1,"flex","flex-col","max-w-240","md:min-w-100","max-h-screen","-m-6"],[1,"flex","flex-0","items-center","justify-between","h-12","pr-3","sm:pr-5","pl-6","sm:pl-8","text-on-primary","p-3","border-b-4","mr-4","ml-4","color-borde","mt-4"],[1,"text-2xl","font-medium","text-black","mb-4"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"w-full","mt-4","mb-4","pr-8","pl-8"],[3,"formGroup"],[1,"input-text-per"],[1,"mb-1","font-medium","text-lg"],["name","nombreJugador","id","nombreJugador","type","text","required","",3,"formControlName"],["name","correoJugador","id","correoJugador","type","email",3,"formControlName"],[1,"input-number-per","mt-2"],["type","number","min","1","required","",1,"w-4/12","sm:w-3/12",3,"formControlName"],[1,"w-full","mb-3"],[1,"font-medium","pb-4"],["aria-label","seleccionar rama del jugador",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["aria-label","seleccionar categoria del jugador",3,"formControlName"],["aria-label","seleccionar categoria del jugador en dobles",3,"formControlName"],[1,"flex","justify-center","mb-4"],["matTooltip","Confirmar","mat-flat-button","",1,"ml-4","bg-verdemi","text-white","text-xl","font-bold",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return r.onNoClick()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"mat-label",8),e._uU(10,"Nombre"),e.qZA(),e._UZ(11,"input",9),e.qZA(),e.TgZ(12,"div",7)(13,"mat-label",8),e._uU(14,"Correo electronico"),e.qZA(),e._UZ(15,"input",10),e.qZA(),e.TgZ(16,"div",11)(17,"mat-label",8),e._uU(18,"Ranking"),e.qZA(),e._UZ(19,"input",12),e.qZA(),e.TgZ(20,"div",13)(21,"mat-label",14),e._uU(22,"Rama"),e.qZA(),e._UZ(23,"br"),e.TgZ(24,"mat-radio-group",15),e.YNc(25,Y,3,4,"mat-radio-button",16),e.qZA()(),e.TgZ(26,"div",13)(27,"mat-label",14),e._uU(28,"Categoria"),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"mat-radio-group",17),e.YNc(31,E,3,4,"mat-radio-button",16),e.qZA()(),e.TgZ(32,"div",13)(33,"mat-label",14),e._uU(34,"Categoria dobles"),e.qZA(),e._UZ(35,"br"),e.TgZ(36,"mat-radio-group",18),e.YNc(37,M,3,4,"mat-radio-button",16),e.qZA()()()(),e.TgZ(38,"div",19)(39,"button",20),e.NdJ("click",function(){return r.confirmarJugador()}),e._uU(40," Confirmar "),e.qZA()()()),2&t&&(e.xp6(3),e.hij("",r.title," jugador"),e.xp6(1),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"),e.xp6(2),e.Q6J("formGroup",r.jugadorForm),e.xp6(4),e.Q6J("formControlName","nombre"),e.xp6(4),e.Q6J("formControlName","correo"),e.xp6(4),e.Q6J("formControlName","ranking"),e.xp6(5),e.Q6J("formControlName","rama"),e.xp6(1),e.Q6J("ngForOf",r.ramas),e.xp6(5),e.Q6J("formControlName","categoria"),e.xp6(1),e.Q6J("ngForOf",r.categorias),e.xp6(5),e.Q6J("formControlName","categoria_dobles"),e.xp6(1),e.Q6J("ngForOf",r.categorias))},directives:[P.lW,T.Hw,n._Y,n.JL,n.sg,b.hX,n.Fj,n.Q7,n.JJ,n.u,n.qQ,n.wV,w.VQ,g.sg,w.U0,R.gM],pipes:[g.rS],styles:[".color-borde[_ngcontent-%COMP%]{border-color:#e33022}.input-number-set[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.input-number-set[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#bebebeb1;border-radius:7px;padding:5px;font-size:15px;font-weight:800;text-align:center}.input-text-per[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center}.input-text-per[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#bebebeb1;border-radius:7px;padding:8px;font-size:15px;font-weight:800}.input-text-per[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:not(form).ng-touched.ng-pristine, .input-text-per[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:not(form).ng-touched.ng-dirty{border:1px solid #E33022}.input-number-per[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center}.input-number-per[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#bebebeb1;border-radius:7px;padding:8px;font-size:15px;font-weight:800}.input-number-per[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:not(form).ng-touched.ng-pristine, .input-number-per[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:not(form).ng-touched.ng-dirty{border:1px solid #E33022}.mat-radio-inner-circle[_ngcontent-%COMP%]{background-color:#ffd484!important}"]}),a})();var x=l(4847),k=l(4107),y=l(508),L=l(7531),A=l(6087);const B=["tablaJugadores"];function $(a,o){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",t.jugadoresCount," ")}}function z(a,o){if(1&a&&(e.TgZ(0,"mat-option",15),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.nombre),e.xp6(1),e.hij(" ",t.descripcion," ")}}function H(a,o){if(1&a&&(e.TgZ(0,"mat-option",15),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.nombre),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.descripcion)," ")}}function G(a,o){1&a&&(e.TgZ(0,"th",40),e._uU(1," Ranking "),e.qZA())}function X(a,o){if(1&a&&(e.TgZ(0,"td",41)(1,"span",42),e._uU(2),e.qZA()()),2&a){const t=o.$implicit;e.xp6(2),e.hij(" ",t.ranking," ")}}function V(a,o){1&a&&(e.TgZ(0,"th",40),e._uU(1," Jugador "),e.qZA())}function W(a,o){if(1&a&&(e.TgZ(0,"td",43)(1,"span",44),e._uU(2),e.qZA()()),2&a){const t=o.$implicit;e.xp6(2),e.hij(" ",t.nombre," ")}}function K(a,o){1&a&&(e.TgZ(0,"th",40),e._uU(1," Rama "),e.qZA())}function ee(a,o){if(1&a&&(e.TgZ(0,"td",43)(1,"span",45),e._uU(2),e.ALo(3,"titlecase"),e.qZA()()),2&a){const t=o.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,1,t.rama)," ")}}function te(a,o){1&a&&(e.TgZ(0,"th",40),e._uU(1," Categoria "),e.qZA())}function ae(a,o){if(1&a&&(e.TgZ(0,"td",43)(1,"span",45),e._uU(2),e.qZA()()),2&a){const t=o.$implicit;e.xp6(2),e.hij(" ",t.categoria," ")}}function re(a,o){1&a&&(e.TgZ(0,"th",46),e._uU(1," Acciones "),e.qZA())}function oe(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"td",41)(1,"div")(2,"mat-icon",47),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).editarJugador(s)}),e.qZA(),e._uU(3,"\xa0\xa0 "),e.qZA()()}2&a&&(e.xp6(2),e.Q6J("svgIcon","feather:edit"))}function ie(a,o){1&a&&e._UZ(0,"tr",48)}function ne(a,o){1&a&&e._UZ(0,"tr",49)}function se(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"table",27,28),e.ynx(3,29),e.YNc(4,G,2,0,"th",30),e.YNc(5,X,3,1,"td",31),e.BQk(),e.ynx(6,32),e.YNc(7,V,2,0,"th",30),e.YNc(8,W,3,1,"td",33),e.BQk(),e.ynx(9,34),e.YNc(10,K,2,0,"th",30),e.YNc(11,ee,4,3,"td",33),e.BQk(),e.ynx(12,35),e.YNc(13,te,2,0,"th",30),e.YNc(14,ae,3,1,"td",33),e.BQk(),e.ynx(15,36),e.YNc(16,re,2,0,"th",37),e.YNc(17,oe,4,1,"td",31),e.BQk(),e.YNc(18,ie,1,0,"tr",38),e.YNc(19,ne,1,0,"tr",39),e.qZA(),e.BQk()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("dataSource",t.tablaTorneosData)("trackBy",t.trackByFn),e.xp6(17),e.Q6J("matHeaderRowDef",t.tablaTorneosColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.tablaTorneosColumns)}}function le(a,o){1&a&&(e.TgZ(0,"div",50),e._uU(1,"\xa1No hay Jugadores para mostrar!"),e.qZA())}const ue=function(){return{"=0":"No tienes jugadores","=1":"jugador",other:"jugadores"}};let ce=(()=>{class a{constructor(t,r,i,s,m){this._changeDetectorRef=t,this._matDialog=r,this._router=i,this._activatedRoute=s,this._jugadoreService=m,this._unsubscribeAll=new v.x,this.tablaTorneosData=new u.by([]),this.tablaTorneosColumns=["ranking","nombre","rama","categoria","acciones"],this.jugadores=[],this.jugadoresCount=0,this.pagina=0,this.limit=J.N.limit,this.buscarJugador=new n.NI({value:"",disabled:!1}),this.filtroCategoria=new n.NI({value:"",disabled:!1}),this.filtroRama=new n.NI({value:"",disabled:!1}),this.categorias=[],this.ramas=[],this.Toast=d().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:p=>{p.addEventListener("mouseenter",d().stopTimer),p.addEventListener("mouseleave",d().resumeTimer)}})}ngOnInit(){this._jugadoreService.jugadoresList$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.jugadores=t.jugadores,this.jugadoresCount=t.total,this.tablaTorneosData=new u.by(t.jugadores),this._changeDetectorRef.markForCheck()}),this._jugadoreService.categorias$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.categorias=t,this._changeDetectorRef.markForCheck()}),this._jugadoreService.ramas$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.ramas=t,this._changeDetectorRef.markForCheck()}),this.buscarJugador.valueChanges.pipe((0,Q.b)(1e3)).subscribe(t=>{this.onBuscarChange(t)})}ngAfterViewInit(){this.tablaTorneosData.sort=this.tablaJugadores}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onPageChange(t){let r=this.filtroCategoria.value,i=this.filtroRama.value;this.filtroCategoria.disable(),this.filtroRama.disable(),this.pagina=t.pageIndex,this.obtenerJugadorePaginado({page:t.pageIndex+1,limit:this.limit,categoria:r,rama:i})}obtenerJugadorePaginado(t){this._jugadoreService.obtenerJugadoresFiltroPaginado(t).pipe((0,c.R)(this._unsubscribeAll)).subscribe(r=>{this._jugadoreService.jugadoresList=r.jugadores,this.jugadoresCount=r.total,this.tablaTorneosData=new u.by(r.jugadores),this.tablaTorneosData.sort=this.tablaJugadores,this.filtroCategoria.enable(),this.filtroRama.enable(),this._changeDetectorRef.markForCheck()},r=>{this.Toast.fire({icon:"error",title:r.error.message}),this.filtroCategoria.enable(),this.filtroRama.enable()})}crearJugadorDialogo(){this._matDialog.open(D,{data:{editar:!1,title:"Crear"}}).afterClosed().subscribe(r=>{void 0!==r&&(Object.assign(Object.assign({},r),{correo:null,contrasena:null}),this.crearJugador(r))})}crearJugador(t){this._jugadoreService.crearjugador(t).pipe((0,c.R)(this._unsubscribeAll)).subscribe(r=>{this.Toast.fire({icon:"success",title:"Jugador creado con exito"});let i=this.filtroCategoria.value,s=this.filtroRama.value;this.filtroCategoria.disable(),this.filtroRama.disable(),this.obtenerJugadoresRefresh({page:this.pagina+1,limit:this.limit,categoria:i,rama:s})},r=>{this.Toast.fire({icon:"error",title:r.error.message})})}editarJugador(t){this._matDialog.open(D,{data:{jugador:t,editar:!0,title:"Editar"}}).afterClosed().subscribe(i=>{void 0!==i&&this.editarJugadorPorId(i)})}editarJugadorPorId(t){this._jugadoreService.editarJugadorPorId(t.id,t).pipe((0,c.R)(this._unsubscribeAll)).subscribe(r=>{this.Toast.fire({icon:"success",title:"El jugador ha sido editado con exito"});let i=this.filtroCategoria.value,s=this.filtroRama.value;this.filtroCategoria.disable(),this.filtroRama.disable(),this.obtenerJugadoresRefresh({page:this.pagina+1,limit:this.limit,categoria:i,rama:s})},r=>{this.Toast.fire({icon:"error",title:r.error.message})})}obtenerJugadoresRefresh(t){this._jugadoreService.obtenerJugadoresFiltroPaginado(t).pipe((0,c.R)(this._unsubscribeAll)).subscribe(r=>{this._jugadoreService.jugadores=r.jugadores,this.jugadoresCount=r.total,this.tablaTorneosData=new u.by(r.jugadores),this.tablaTorneosData.sort=this.tablaJugadores,this.filtroCategoria.enable(),this.filtroRama.enable(),this._changeDetectorRef.markForCheck()},r=>{this.Toast.fire({icon:"error",title:r.error.message}),this.filtroCategoria.enable(),this.filtroRama.enable()})}applyFilter(t){this.tablaTorneosData.filter=t.target.value.trim().toLowerCase(),this.jugadoresCount=this.tablaTorneosData.filteredData.length,this._changeDetectorRef.markForCheck()}onCategoriaChange(t){let r=t.value,i=this.filtroRama.value,s=this.buscarJugador.value;this.filtroCategoria.disable(),this.filtroRama.disable(),this.pagina=0,this.obtenerJugadorePaginado({page:1,limit:this.limit,categoria:r,rama:i,nombre:s})}onRamaChange(t){let r=this.filtroCategoria.value,i=t.value,s=this.buscarJugador.value;this.filtroCategoria.disable(),this.filtroRama.disable(),this.pagina=0,this.obtenerJugadorePaginado({page:1,limit:this.limit,categoria:r,rama:i,nombre:s})}onBuscarChange(t){let r=this.filtroCategoria.value,i=this.filtroRama.value,s=t;this.filtroCategoria.disable(),this.filtroRama.disable(),this.pagina=0,this.obtenerJugadorePaginado({page:1,limit:this.limit,categoria:r,rama:i,nombre:s})}trackByFn(t,r){return r.id||t}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.sBO),e.Y36(j.uw),e.Y36(_.F0),e.Y36(_.gz),e.Y36(h))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-singles"]],viewQuery:function(t,r){if(1&t&&e.Gf(B,5,x.YE),2&t){let i;e.iGM(i=e.CRH())&&(r.tablaJugadores=i.first)}},decls:41,vars:22,consts:[[1,"flex","flex-col","flex-auto","w-full"],[1,"flex","flex-wrap","w-full","max-w-screen-xl","mx-auto","p-6","md:p-8"],[1,"flex","items-center","justify-between","w-full"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"ml-0.5","font-medium","text-secondary","text-lg"],[4,"ngIf"],[1,"w-full","grid","grid-cols-1","mt-4","gap-2"],[1,"flex","justify-end"],["mat-flat-button","",1,"text-white","font-bold","text-2xl","bg-orange-700",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"w-full","grid","grid-cols-2","sm:grid-cols-3","gap-5","mt-10"],["appearance","fill",1,"w-full"],[1,"font-medium","pb-4","text-xl"],[3,"placeholder","formControl","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"w-full","form-buscar-jugador"],["matInput","","type","text","placeholder","Buscar jugador",3,"formControl"],["input",""],[1,"grid","grid-cols-1","xl:grid-cols-1","gap-8","w-full","mt-8"],[1,"xl:col-span-2","flex","flex-col","flex-auto","bg-card","shadow","rounded-xl","overflow-hidden"],[1,"overflow-x-auto","mx-6"],[4,"ngIf","ngIfElse"],["elseNoJugadores",""],[1,"mt-10","w-full"],["aria-label","Select page",1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"pageSize","length","showFirstLastButtons","pageIndex","page"],["mat-table","","matSort","",1,"w-full","bg-transparent",3,"dataSource","trackBy"],["tablaJugadores",""],["matColumnDef","ranking"],["mat-header-cell","","mat-sort-header","","class","text-black text-lg",4,"matHeaderCellDef"],["class","text-center","mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["mat-cell","",4,"matCellDef"],["matColumnDef","rama"],["matColumnDef","categoria"],["matColumnDef","acciones"],["mat-header-cell","","class","text-black text-lg",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","order-row h-16","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",1,"text-black","text-lg"],["mat-cell","",1,"text-center"],[1,"pr-6","font-semibold","text-sm","whitespace-nowrap"],["mat-cell",""],[1,"pr-6","whitespace-nowrap"],[1,"pr-6","whitespace-nowrap","font-semibold"],["mat-header-cell","",1,"text-black","text-lg"],["matTooltip","Editar Jugador",1,"icon-size-5","cursor-pointer","text-naranmi","hover:opacity-60",3,"svgIcon","click"],["mat-header-row",""],["mat-row","",1,"order-row","h-16"],[1,"p-8","sm:p-16","border-t","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),e._uU(5,"Jugadores / Singles"),e.qZA(),e.TgZ(6,"div",4),e.YNc(7,$,2,1,"ng-container",5),e._uU(8),e.ALo(9,"i18nPlural"),e.qZA()()(),e.TgZ(10,"div",6)(11,"div",7)(12,"button",8),e.NdJ("click",function(){return r.crearJugadorDialogo()}),e._UZ(13,"mat-icon",9),e.TgZ(14,"span",10),e._uU(15,"Crear Jugador"),e.qZA()()()(),e.TgZ(16,"div",11)(17,"mat-form-field",12)(18,"mat-label",13),e._uU(19,"Categoria"),e.qZA(),e.TgZ(20,"mat-select",14),e.NdJ("selectionChange",function(s){return r.onCategoriaChange(s)}),e._UZ(21,"mat-option",15),e.YNc(22,z,2,2,"mat-option",16),e.qZA()(),e.TgZ(23,"mat-form-field",12)(24,"mat-label",13),e._uU(25,"Rama"),e.qZA(),e.TgZ(26,"mat-select",14),e.NdJ("selectionChange",function(s){return r.onRamaChange(s)}),e._UZ(27,"mat-option",15),e.YNc(28,H,3,4,"mat-option",16),e.qZA()(),e.TgZ(29,"div",17),e._UZ(30,"input",18,19),e.qZA()(),e.TgZ(32,"div",20)(33,"div",21)(34,"div",22),e.YNc(35,se,20,4,"ng-container",23),e.YNc(36,le,2,0,"ng-template",null,24,e.W1O),e.qZA()()(),e.TgZ(38,"div",25),e._uU(39,"\xa0"),e.qZA(),e.TgZ(40,"mat-paginator",26),e.NdJ("page",function(s){return r.onPageChange(s)}),e.qZA()()()),2&t){const i=e.MAs(37);e.xp6(7),e.Q6J("ngIf",r.jugadoresCount>0),e.xp6(1),e.hij(" ",e.xi3(9,18,r.jugadoresCount,e.DdM(21,ue))," "),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(7),e.Q6J("placeholder","Categoria")("formControl",r.filtroCategoria),e.xp6(1),e.Q6J("value",""),e.xp6(1),e.Q6J("ngForOf",r.categorias),e.xp6(4),e.Q6J("placeholder","Rama")("formControl",r.filtroRama),e.xp6(1),e.Q6J("value",""),e.xp6(1),e.Q6J("ngForOf",r.ramas),e.xp6(2),e.Q6J("formControl",r.buscarJugador),e.xp6(5),e.Q6J("ngIf",r.jugadoresCount>0)("ngIfElse",i),e.xp6(5),e.Q6J("pageSize",r.limit)("length",r.jugadoresCount)("showFirstLastButtons",!0)("pageIndex",r.pagina)}},directives:[g.O5,P.lW,T.Hw,b.KE,b.hX,k.gD,n.JJ,n.oH,y.ey,g.sg,L.Nt,n.Fj,u.BZ,x.YE,u.w1,u.fO,u.ge,x.nU,u.Dz,u.ev,R.gM,u.as,u.XQ,u.nj,u.Gk,A.NW],pipes:[g.Gx,g.rS],styles:["table{width:100%}.mat-mdc-row .mat-mdc-cell{border-bottom:1px solid transparent;border-top:1px solid transparent;cursor:pointer}.mat-mdc-row:hover .mat-mdc-cell{border-color:currentColor}.th.mat-header-cell{border-bottom:1px solid saddlebrown!important}th{border-bottom:2px solid #E33022!important}.form-buscar-jugador{padding:10px;border-radius:5px;background-color:#bebebeb1;font-weight:bolder}.form-buscar-jugador input{font-size:18px;font-weight:500}.form-buscar-jugador:active{border:1px solid #FFD484}.mat-form-field.mat-form-field-appearance-fill .mat-form-field-wrapper{margin:0!important}\n"],encapsulation:2}),a})();var O=l(4707),ge=l(3586);function de(a,o){if(1&a&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nombre," ")}}function me(a,o){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," El jugador 1 es requerido. "),e.qZA())}function pe(a,o){if(1&a&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nombre," ")}}function he(a,o){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," El jugador 2 es requerido. "),e.qZA())}function fe(a,o){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," El ranking de la pareja es requerida y mayor a 0. "),e.qZA())}function be(a,o){if(1&a&&(e.TgZ(0,"mat-radio-button",25),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.nombre),e.xp6(1),e.hij("",e.lcZ(2,2,t.descripcion),"\xa0\xa0")}}function _e(a,o){if(1&a&&(e.TgZ(0,"mat-radio-button",25),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.nombre),e.xp6(1),e.hij("",e.lcZ(2,2,t.descripcion),"\xa0\xa0")}}let N=(()=>{class a{constructor(t,r,i,s,m){this.matDialogRef=t,this._formBuilder=r,this.data=i,this._changeDetectorRef=s,this._jugadoresService=m,this.tipoAccion="Crear",this.jugadores=[],this.ramas=[],this.categorias=[],this.pareja=[],this._onDestroy=new v.x,this.jugadoresFiltroCtrl=new n.NI,this.filteredJugadores=new O.t(null),this.jugadoresFiltroDCtrl=new n.NI,this.filteredJugadoresD=new O.t(null),this._unsubscribeAll=new v.x,this.parejaForm=this._formBuilder.group({jugador1:new n.NI({value:"",disabled:!1},n.kI.required),jugador2:new n.NI({value:"",disabled:!1},n.kI.required),ranking:new n.NI({value:0,disabled:!1},[n.kI.required,n.kI.pattern("[0-9]*")]),rama:new n.NI({value:"",disabled:!1},n.kI.required),categoria:new n.NI({value:"",disabled:!1},n.kI.required)}),this.Toast=d().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:p=>{p.addEventListener("mouseenter",d().stopTimer),p.addEventListener("mouseleave",d().resumeTimer)}}),this.tipoAccion=i.accion,"Editar"===i.accion&&(this.pareja=i.pareja,this.pareja.jugador1=i.pareja.juagador1.id,this.pareja.jugador2=i.pareja.juagador2.id,this.parejaForm.patchValue(this.pareja))}ngOnInit(){this._jugadoresService.ramas$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.ramas=t,this._changeDetectorRef.markForCheck()}),this._jugadoresService.categorias$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.categorias=t,this._changeDetectorRef.markForCheck()}),this._jugadoresService.jugadores$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.jugadores=t,this.filteredJugadores.next(t.slice()),this.jugadoresFiltroCtrl.valueChanges.pipe((0,c.R)(this._onDestroy)).subscribe(()=>{this.filtroBusquedaJugador(t)}),this.filteredJugadoresD.next(t.slice()),this.jugadoresFiltroDCtrl.valueChanges.pipe((0,c.R)(this._onDestroy)).subscribe(()=>{this.filtroBusquedaJugadorD(t)}),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}confirmar(){if(this.parejaForm.invalid)return this.Toast.fire({icon:"error",title:"Debe completar todos los campos antes de continuar."}),this.parejaForm.markAllAsTouched(),void this._changeDetectorRef.markForCheck();this.parejaForm.disable();let t=this.parejaForm.getRawValue();this.matDialogRef.close({id:this.pareja.id,data:t})}jugadorChange(t){this.parejaForm.get("jugador2").value===t&&this.parejaForm.get("jugador1").reset()}jugadorDChange(t){this.parejaForm.get("jugador1").value===t&&this.parejaForm.get("jugador2").reset()}filtroBusquedaJugador(t){if(!t)return;let r=this.jugadoresFiltroCtrl.value;r?(r=r.toLowerCase(),this.filteredJugadores.next(t.filter(i=>i.nombre.toLowerCase().indexOf(r)>-1))):this.filteredJugadores.next(t.slice())}filtroBusquedaJugadorD(t){if(!t)return;let r=this.jugadoresFiltroDCtrl.value;r?(r=r.toLowerCase(),this.filteredJugadoresD.next(t.filter(i=>i.nombre.toLowerCase().indexOf(r)>-1))):this.filteredJugadoresD.next(t.slice())}onNoClick(){this.matDialogRef.close()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(j.so),e.Y36(n.qu),e.Y36(j.WI),e.Y36(e.sBO),e.Y36(h))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-editar-jugador-pareja"]],decls:51,vars:24,consts:[[1,"flex","flex-col","max-w-240","md:min-w-160","max-h-screen","-m-6"],[1,"flex","flex-0","items-center","justify-between","h-12","pr-3","sm:pr-5","pl-6","sm:pl-8","text-on-primary","p-3","border-b-4","mr-4","ml-4","color-borde","mt-4"],[1,"text-2xl","font-medium","text-black","mb-4"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"w-full","mt-4","mb-4","pr-8","pl-8"],[3,"formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"w-full"],[1,"mb-2","font-medium","text-lg"],[1,"input-select-per"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["required","","name","nombreJugadorUno","id","nombreJugadorUno",3,"formControlName","selectionChange"],["placeholderLabel","Buscar jugador...","noEntriesFoundLabel","'Jugador no encontrado'",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["required","","name","nombreJugadorDos","id","nombreJugadorDos",3,"formControlName","selectionChange"],[1,"input-number-per","mt-2","mb-3"],[1,"mb-1","font-medium","text-lg"],["name","ranking","id","ranking","type","number","min","1","required","",1,"w-4/12","sm:w-3/12",3,"formControlName"],[1,"w-full","mb-3"],["aria-label","seleccionar rama del torneo",3,"formControlName"],["aria-label","seleccionar categoria del torneo",3,"formControlName"],[1,"flex","justify-center","mb-4"],["matTooltip","Confirmar","mat-flat-button","",1,"ml-4","bg-verdemi","text-white","text-xl","font-bold",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return r.onNoClick()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"mat-label",9),e._uU(11,"Jugador 1"),e.qZA(),e.TgZ(12,"div",10),e._UZ(13,"mat-icon",11),e.TgZ(14,"mat-select",12),e.NdJ("selectionChange",function(s){return r.jugadorChange(s.value)}),e.TgZ(15,"mat-option"),e._UZ(16,"ngx-mat-select-search",13),e.qZA(),e.YNc(17,de,2,2,"mat-option",14),e.ALo(18,"async"),e.qZA()(),e.YNc(19,me,2,0,"mat-error",15),e.qZA(),e.TgZ(20,"div",8)(21,"mat-label",9),e._uU(22,"Jugador 2"),e.qZA(),e.TgZ(23,"div",10),e._UZ(24,"mat-icon",11),e.TgZ(25,"mat-select",16),e.NdJ("selectionChange",function(s){return r.jugadorDChange(s.value)}),e.TgZ(26,"mat-option"),e._UZ(27,"ngx-mat-select-search",13),e.qZA(),e.YNc(28,pe,2,2,"mat-option",14),e.ALo(29,"async"),e.qZA()(),e.YNc(30,he,2,0,"mat-error",15),e.qZA()(),e.TgZ(31,"div",17)(32,"mat-label",18),e._uU(33,"Ranking"),e.qZA(),e._UZ(34,"input",19),e.YNc(35,fe,2,0,"mat-error",15),e.qZA(),e.TgZ(36,"div",20)(37,"mat-label",9),e._uU(38,"Rama"),e.qZA(),e._UZ(39,"br"),e.TgZ(40,"mat-radio-group",21),e.YNc(41,be,3,4,"mat-radio-button",14),e.qZA()(),e.TgZ(42,"div",20)(43,"mat-label",9),e._uU(44,"Categoria"),e.qZA(),e._UZ(45,"br"),e.TgZ(46,"mat-radio-group",22),e.YNc(47,_e,3,4,"mat-radio-button",14),e.qZA()()()(),e.TgZ(48,"div",23)(49,"button",24),e.NdJ("click",function(){return r.confirmar()}),e._uU(50," Confirmar "),e.qZA()()()),2&t&&(e.xp6(3),e.hij("",r.tipoAccion," pareja"),e.xp6(1),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"),e.xp6(2),e.Q6J("formGroup",r.parejaForm),e.xp6(6),e.Q6J("svgIcon","feather:search"),e.xp6(1),e.Q6J("formControlName","jugador1"),e.xp6(2),e.Q6J("formControl",r.jugadoresFiltroCtrl),e.xp6(1),e.Q6J("ngForOf",e.lcZ(18,20,r.filteredJugadores)),e.xp6(2),e.Q6J("ngIf",r.parejaForm.get("jugador1").invalid&&(r.parejaForm.get("jugador1").dirty||r.parejaForm.get("jugador1").touched)),e.xp6(5),e.Q6J("svgIcon","feather:search"),e.xp6(1),e.Q6J("formControlName","jugador2"),e.xp6(2),e.Q6J("formControl",r.jugadoresFiltroDCtrl),e.xp6(1),e.Q6J("ngForOf",e.lcZ(29,22,r.filteredJugadoresD)),e.xp6(2),e.Q6J("ngIf",r.parejaForm.get("jugador2").invalid&&(r.parejaForm.get("jugador2").dirty||r.parejaForm.get("jugador2").touched)),e.xp6(4),e.Q6J("formControlName","ranking"),e.xp6(1),e.Q6J("ngIf",r.parejaForm.get("ranking").invalid&&(r.parejaForm.get("ranking").dirty||r.parejaForm.get("ranking").touched)),e.xp6(5),e.Q6J("formControlName","rama"),e.xp6(1),e.Q6J("ngForOf",r.ramas),e.xp6(5),e.Q6J("formControlName","categoria"),e.xp6(1),e.Q6J("ngForOf",r.categorias))},directives:[P.lW,T.Hw,n._Y,n.JL,n.sg,b.hX,b.qo,k.gD,n.Q7,n.JJ,n.u,y.ey,ge.nu,n.oH,g.sg,g.O5,b.TO,n.qQ,n.wV,n.Fj,w.VQ,w.U0,R.gM],pipes:[g.Ov,g.rS],styles:[".color-borde[_ngcontent-%COMP%]{border-color:#e33022}.input-number-set[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.input-number-set[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#bebebeb1;border-radius:7px;padding:5px;font-size:15px;font-weight:800;text-align:center}.input-text-per[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center}.input-text-per[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#bebebeb1;border-radius:7px;padding:8px;font-size:15px;font-weight:800}.input-text-per[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:not(form).ng-touched.ng-pristine, .input-text-per[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:not(form).ng-touched.ng-dirty{border:1px solid #E33022}.input-number-per[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center}.input-number-per[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#bebebeb1;border-radius:7px;padding:8px;font-size:15px;font-weight:800}.input-number-per[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:not(form).ng-touched.ng-pristine, .input-number-per[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:not(form).ng-touched.ng-dirty{border:1px solid #E33022}.mat-radio-inner-circle[_ngcontent-%COMP%]{background-color:#ffd484!important}.input-select-per[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;background-color:#bebebeb1;border-radius:7px;padding:8px;font-size:15px;font-weight:600}.input-select-per[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px}.input-select-per[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{width:100%}.clas-pruyeba[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:not(form).ng-touched.ng-pristine, .clas-pruyeba[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:not(form).ng-touched.ng-dirty{border:1px solid #E33022!important}"]}),a})();const je=["tablaParejas"];function Ce(a,o){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",t.parejasCount," ")}}function xe(a,o){if(1&a&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.nombre),e.xp6(1),e.hij(" ",t.descripcion," ")}}function ve(a,o){if(1&a&&(e.TgZ(0,"mat-option",23),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.nombre),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.descripcion)," ")}}function Ze(a,o){1&a&&(e.TgZ(0,"th",38),e._uU(1," Ranking "),e.qZA())}function Je(a,o){if(1&a&&(e.TgZ(0,"td",39)(1,"span",40),e._uU(2),e.qZA()()),2&a){const t=o.$implicit;e.xp6(2),e.hij(" ",t.ranking," ")}}function Pe(a,o){1&a&&(e.TgZ(0,"th",38),e._uU(1," Jugador 1 "),e.qZA())}function Te(a,o){if(1&a&&(e.TgZ(0,"td",41)(1,"span",42),e._uU(2),e.qZA()()),2&a){const t=o.$implicit;e.xp6(2),e.hij(" ",t.juagador1.nombre," ")}}function we(a,o){1&a&&(e.TgZ(0,"th",38),e._uU(1," Jugador 2 "),e.qZA())}function Ae(a,o){if(1&a&&(e.TgZ(0,"td",41)(1,"span",42),e._uU(2),e.qZA()()),2&a){const t=o.$implicit;e.xp6(2),e.hij(" ",t.juagador2.nombre," ")}}function Re(a,o){1&a&&(e.TgZ(0,"th",38),e._uU(1," Rama "),e.qZA())}function ke(a,o){if(1&a&&(e.TgZ(0,"td",41)(1,"span",43),e._uU(2),e.qZA()()),2&a){const t=o.$implicit;e.xp6(2),e.hij(" ",t.rama," ")}}function ye(a,o){1&a&&(e.TgZ(0,"th",38),e._uU(1," Categoria "),e.qZA())}function Fe(a,o){if(1&a&&(e.TgZ(0,"td",41)(1,"span",43),e._uU(2),e.qZA()()),2&a){const t=o.$implicit;e.xp6(2),e.hij(" ",t.categoria," ")}}function De(a,o){1&a&&(e.TgZ(0,"th",44),e._uU(1," Acciones "),e.qZA())}function Oe(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"td",39)(1,"div")(2,"mat-icon",45),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).editarParejaDialogo(s)}),e.qZA(),e._uU(3,"\xa0\xa0 "),e.qZA()()}2&a&&(e.xp6(2),e.Q6J("svgIcon","feather:edit"))}function Ne(a,o){1&a&&e._UZ(0,"tr",46)}function Ie(a,o){1&a&&e._UZ(0,"tr",47)}function Se(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"table",24,25),e.ynx(3,26),e.YNc(4,Ze,2,0,"th",27),e.YNc(5,Je,3,1,"td",28),e.BQk(),e.ynx(6,29),e.YNc(7,Pe,2,0,"th",27),e.YNc(8,Te,3,1,"td",30),e.BQk(),e.ynx(9,31),e.YNc(10,we,2,0,"th",27),e.YNc(11,Ae,3,1,"td",30),e.BQk(),e.ynx(12,32),e.YNc(13,Re,2,0,"th",27),e.YNc(14,ke,3,1,"td",30),e.BQk(),e.ynx(15,33),e.YNc(16,ye,2,0,"th",27),e.YNc(17,Fe,3,1,"td",30),e.BQk(),e.ynx(18,34),e.YNc(19,De,2,0,"th",35),e.YNc(20,Oe,4,1,"td",28),e.BQk(),e.YNc(21,Ne,1,0,"tr",36),e.YNc(22,Ie,1,0,"tr",37),e.qZA(),e.BQk()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("dataSource",t.tablaParejasData)("trackBy",t.trackByFn),e.xp6(20),e.Q6J("matHeaderRowDef",t.tablaParejasColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.tablaParejasColumns)}}function Ue(a,o){1&a&&(e.TgZ(0,"div",48),e._uU(1,"\xa1No hay parejas para mostrar!"),e.qZA())}const Qe=function(){return{"=0":"No tienes parejas","=1":"pareja",other:"parejas"}};let qe=(()=>{class a{constructor(t,r,i,s,m){this._changeDetectorRef=t,this._matDialog=r,this._router=i,this._activatedRoute=s,this._jugadoresService=m,this._unsubscribeAll=new v.x,this.tablaParejasData=new u.by([]),this.tablaParejasColumns=["ranking","jugador1","jugador2","rama","categoria","acciones"],this.parejas=[],this.parejasCount=0,this.pagina=0,this.limit=J.N.limit,this.buscarJugador=new n.NI({value:"",disabled:!1}),this.filtroCategoria=new n.NI({value:"A",disabled:!1}),this.filtroRama=new n.NI({value:"masculina",disabled:!1}),this.categorias=[],this.ramas=[],this.Toast=d().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:p=>{p.addEventListener("mouseenter",d().stopTimer),p.addEventListener("mouseleave",d().resumeTimer)}})}ngOnInit(){this._jugadoresService.parejas$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.parejas=t.parejas,this.parejasCount=t.total,this.tablaParejasData=new u.by(t.parejas),this._changeDetectorRef.markForCheck()}),this._jugadoresService.categorias$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.categorias=t,this._changeDetectorRef.markForCheck()}),this._jugadoresService.ramas$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.ramas=t,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}ngAfterViewInit(){this.tablaParejasData.sort=this.tablaParejas}onPageChange(t){let r=this.filtroCategoria.value,i=this.filtroRama.value;this.filtroCategoria.disable(),this.filtroRama.disable(),this.pagina=t.pageIndex,this.obtenerParejasPaginadas({page:t.pageIndex+1,limit:this.limit,categoria:r,rama:i})}obtenerParejasPaginadas(t){this._jugadoresService.obtenerParejasFiltroPaginado(t).pipe((0,c.R)(this._unsubscribeAll)).subscribe(r=>{this._jugadoresService.parejas=r.parejas,this.parejasCount=r.total,this.tablaParejasData=new u.by(r.parejas),this.tablaParejasData.sort=this.tablaParejas,this.filtroCategoria.enable(),this.filtroRama.enable(),this._changeDetectorRef.markForCheck()},r=>{this.Toast.fire({icon:"error",title:r.error.message}),this.filtroCategoria.enable(),this.filtroRama.enable()})}crearParejaDialogo(){this._matDialog.open(N,{data:{accion:"Crear"}}).afterClosed().subscribe(r=>{void 0!==r&&this.crearPareja(r.data)})}crearPareja(t){this._jugadoresService.crearPareja(t).pipe((0,c.R)(this._unsubscribeAll)).subscribe(r=>{this.Toast.fire({icon:"success",title:"Pareja creada con exito."});let i=this.filtroCategoria.value,s=this.filtroRama.value;this.filtroCategoria.disable(),this.filtroRama.disable(),this.obtenerParejasRefresh({page:this.pagina+1,limit:this.limit,categoria:i,rama:s}),this._changeDetectorRef.markForCheck()},r=>{this.Toast.fire({icon:"error",title:r.error.message})})}editarParejaDialogo(t){this._matDialog.open(N,{data:{accion:"Editar",pareja:t}}).afterClosed().subscribe(i=>{void 0!==i&&this.editarPareja(i.id,i.data)})}editarPareja(t,r){this._jugadoresService.editarPareja(t,r).pipe((0,c.R)(this._unsubscribeAll)).subscribe(i=>{this.Toast.fire({icon:"success",title:"Pareja editada con exito."});let s=this.filtroCategoria.value,m=this.filtroRama.value;this.filtroCategoria.disable(),this.filtroRama.disable(),this.obtenerParejasRefresh({page:this.pagina+1,limit:this.limit,categoria:s,rama:m})},i=>{this.Toast.fire({icon:"error",title:i.error.message})})}obtenerParejasRefresh(t){this._jugadoresService.obtenerParejasFiltroPaginado(t).pipe((0,c.R)(this._unsubscribeAll)).subscribe(r=>{this._jugadoresService.parejas=r.parejas,this.parejas=r.parejas,this.parejasCount=r.total,this.tablaParejasData=new u.by(r.parejas),this.tablaParejasData.sort=this.tablaParejas,this.filtroCategoria.enable(),this.filtroRama.enable(),this._changeDetectorRef.markForCheck()},r=>{this.Toast.fire({icon:"error",title:r.error.message}),this.filtroCategoria.enable(),this.filtroRama.enable()})}applyFilter(t){this.tablaParejasData.filter=t.target.value.trim().toLowerCase(),this.parejasCount=this.tablaParejasData.filteredData.length,this._changeDetectorRef.markForCheck()}onCategoriaChange(t){let r=t.value,i=this.filtroRama.value;this.filtroCategoria.disable(),this.filtroRama.disable(),this.pagina=0,this.obtenerParejasPaginadas({page:1,limit:this.limit,categoria:r,rama:i})}onRamaChange(t){let r=this.filtroCategoria.value,i=t.value;this.filtroCategoria.disable(),this.filtroRama.disable(),this.pagina=0,this.obtenerParejasPaginadas({page:1,limit:this.limit,categoria:r,rama:i})}trackByFn(t,r){return r.id||t}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.sBO),e.Y36(j.uw),e.Y36(_.F0),e.Y36(_.gz),e.Y36(h))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-parejas"]],viewQuery:function(t,r){if(1&t&&e.Gf(je,5,x.YE),2&t){let i;e.iGM(i=e.CRH())&&(r.tablaParejas=i.first)}},decls:36,vars:19,consts:[[1,"flex","flex-col","flex-auto","w-full"],[1,"flex","flex-wrap","w-full","max-w-screen-xl","mx-auto","p-6","md:p-8"],[1,"flex","items-center","justify-between","w-full"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"ml-0.5","font-medium","text-secondary","text-lg"],[4,"ngIf"],[1,"w-full","grid","grid-cols-1","mt-4","gap-2"],[1,"flex","justify-end"],["mat-flat-button","",1,"text-white","font-bold","text-2xl","bg-orange-600",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"w-full","grid","grid-cols-2","sm:grid-cols-3","gap-5","mt-10"],["appearance","fill",1,"w-full"],[1,"font-medium","pb-4","text-xl"],[3,"placeholder","formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","xl:grid-cols-1","gap-8","w-full","mt-8"],[1,"xl:col-span-2","flex","flex-col","flex-auto","bg-card","shadow","rounded-xl","overflow-hidden"],[1,"overflow-x-auto","mx-6"],[4,"ngIf","ngIfElse"],["elseNoParejas",""],[1,"mt-10","w-full"],["aria-label","Select page",1,"absolute","inset-x-0","bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"pageSize","length","showFirstLastButtons","pageIndex","page"],[3,"value"],["mat-table","","matSort","",1,"w-full","bg-transparent",3,"dataSource","trackBy"],["tablaParejas",""],["matColumnDef","ranking"],["mat-header-cell","","mat-sort-header","","class","text-black text-lg",4,"matHeaderCellDef"],["class","text-center","mat-cell","",4,"matCellDef"],["matColumnDef","jugador1"],["mat-cell","",4,"matCellDef"],["matColumnDef","jugador2"],["matColumnDef","rama"],["matColumnDef","categoria"],["matColumnDef","acciones"],["mat-header-cell","","class","text-black text-lg",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","order-row h-16","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",1,"text-black","text-lg"],["mat-cell","",1,"text-center"],[1,"pr-6","font-semibold","text-sm","whitespace-nowrap"],["mat-cell",""],[1,"pr-6","whitespace-nowrap"],[1,"pr-6","whitespace-nowrap","font-semibold"],["mat-header-cell","",1,"text-black","text-lg"],[1,"icon-size-5","cursor-pointer","text-naranmi","hover:opacity-60",3,"svgIcon","click"],["mat-header-row",""],["mat-row","",1,"order-row","h-16"],[1,"p-8","sm:p-16","border-t","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),e._uU(5,"Jugadores / Parejas"),e.qZA(),e.TgZ(6,"div",4),e.YNc(7,Ce,2,1,"ng-container",5),e._uU(8),e.ALo(9,"i18nPlural"),e.qZA()()(),e.TgZ(10,"div",6)(11,"div",7)(12,"button",8),e.NdJ("click",function(){return r.crearParejaDialogo()}),e._UZ(13,"mat-icon",9),e.TgZ(14,"span",10),e._uU(15,"Crear pareja"),e.qZA()()()(),e.TgZ(16,"div",11)(17,"mat-form-field",12)(18,"mat-label",13),e._uU(19,"Categoria"),e.qZA(),e.TgZ(20,"mat-select",14),e.NdJ("selectionChange",function(s){return r.onCategoriaChange(s)}),e.YNc(21,xe,2,2,"mat-option",15),e.qZA()(),e.TgZ(22,"mat-form-field",12)(23,"mat-label",13),e._uU(24,"Rama"),e.qZA(),e.TgZ(25,"mat-select",14),e.NdJ("selectionChange",function(s){return r.onRamaChange(s)}),e.YNc(26,ve,3,4,"mat-option",15),e.qZA()()(),e.TgZ(27,"div",16)(28,"div",17)(29,"div",18),e.YNc(30,Se,23,4,"ng-container",19),e.YNc(31,Ue,2,0,"ng-template",null,20,e.W1O),e.qZA()()(),e.TgZ(33,"div",21),e._uU(34,"\xa0"),e.qZA(),e.TgZ(35,"mat-paginator",22),e.NdJ("page",function(s){return r.onPageChange(s)}),e.qZA()()()),2&t){const i=e.MAs(32);e.xp6(7),e.Q6J("ngIf",r.parejasCount>0),e.xp6(1),e.hij(" ",e.xi3(9,15,r.parejasCount,e.DdM(18,Qe))," "),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(7),e.Q6J("placeholder","Categoria")("formControl",r.filtroCategoria),e.xp6(1),e.Q6J("ngForOf",r.categorias),e.xp6(4),e.Q6J("placeholder","Rama")("formControl",r.filtroRama),e.xp6(1),e.Q6J("ngForOf",r.ramas),e.xp6(4),e.Q6J("ngIf",r.parejasCount>0)("ngIfElse",i),e.xp6(5),e.Q6J("pageSize",r.limit)("length",r.parejasCount)("showFirstLastButtons",!0)("pageIndex",r.pagina)}},directives:[g.O5,P.lW,T.Hw,b.KE,b.hX,k.gD,n.JJ,n.oH,g.sg,y.ey,u.BZ,x.YE,u.w1,u.fO,u.ge,x.nU,u.Dz,u.ev,u.as,u.XQ,u.nj,u.Gk,A.NW],pipes:[g.Gx,g.rS],styles:["table{width:100%}.mat-mdc-row .mat-mdc-cell{border-bottom:1px solid transparent;border-top:1px solid transparent;cursor:pointer}.mat-mdc-row:hover .mat-mdc-cell{border-color:currentColor}.th.mat-header-cell{border-bottom:1px solid saddlebrown!important}th{border-bottom:2px solid #E33022!important}.form-buscar-jugador{padding:10px;border-radius:5px;background-color:#bebebeb1;font-weight:bolder}.form-buscar-jugador input{font-size:18px;font-weight:500}.form-buscar-jugador:active{border:1px solid #FFD484}.mat-form-field.mat-form-field-appearance-fill .mat-form-field-wrapper{margin:0!important}\n"],encapsulation:2}),a})();const I=J.N.limit;let Ye=(()=>{class a{constructor(t){this._jugadoresService=t}resolve(t,r){return this._jugadoresService.obtenerJugadores()}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(h))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Ee=(()=>{class a{constructor(t){this._jugadoresService=t}resolve(t,r){return this._jugadoresService.obtenerJugadoresFiltroPaginadoI({page:1,limit:I,rama:"",categoria:"",nombre:""})}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(h))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Me=(()=>{class a{constructor(t){this._jugadoresService=t}resolve(t,r){return this._jugadoresService.obtenerRamas()}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(h))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Le=(()=>{class a{constructor(t){this._jugadoresService=t}resolve(t,r){return this._jugadoresService.obtenerCategorias()}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(h))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Be=[{path:"",component:U,children:[{path:"solos",component:ce,resolve:{jugadoresPag:Ee}},{path:"parejas",component:qe,resolve:{parejas:(()=>{class a{constructor(t){this._jugadoresService=t}resolve(t,r){return this._jugadoresService.obtenerParejasFiltroPaginadoI({page:1,limit:I,rama:"",categoria:"",nombre:""})}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(h))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),jugadores:Ye}}],resolve:{ramas:Me,categorias:Le}}];let $e=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[_.Bz.forChild(Be)],_.Bz]}),a})();function ze(){const a=new A.ye;return a.itemsPerPageLabel="Items por p\xe1gina",a.nextPageLabel="Siguiente pagina",a.previousPageLabel="Pagina anterior",a.firstPageLabel="Primera pagina",a.lastPageLabel="Ultima pagina",a}let He=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[{provide:A.ye,useValue:ze()}],imports:[[S.m,$e]]}),a})()}}]);